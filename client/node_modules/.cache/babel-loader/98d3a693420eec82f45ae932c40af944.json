{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ny\\\\Desktop\\\\guguwagwag\\\\client\\\\src\\\\components\\\\draw\\\\Chat.js\";\nimport React from 'react';\nimport '../../css/styles.css';\nimport io from 'socket.io-client';\n\nclass Chat extends React.Component {\n  constructor() {\n    super();\n\n    this.onSendBtnClick = () => {\n      if (this.state.socket != null) {\n        this.state.socket.emit('chat', {\n          message: this.state.message,\n          handle: this.state.handle\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      const {\n        target\n      } = e;\n      this.setState(state => ({ ...state,\n        [target.id]: target.value\n      }));\n    };\n\n    this.state = {\n      socket: null,\n      handle: \"\",\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // Make connection\n    var url = \"https://guguwagwag.herokuapp.com\"; // var url = \"192.168.1.12:4000\";\n    // Listen for events\n\n    this.setState({\n      socket: io.connect(url)\n    }, function () {\n      if (this.state.socket != null) {\n        this.state.socket.on('chat', function (data) {\n          var output = document.getElementById(\"output\"); // console.log(output);\n\n          output.innerHTML += \"<p><strong>\" + data.handle + \": </strong>\" + data.message + \"</p>\";\n        });\n      } else {\n        alert(\"Failed to connect server.\");\n      }\n    }); // console.log(this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mario-chat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"chat-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"output\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"handle\",\n      type: \"text\",\n      placeholder: \"Handle\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"message\",\n      type: \"text\",\n      placeholder: \"Message\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"send\",\n      onClick: this.onSendBtnClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"Send\"));\n  }\n\n}\n\nexport default Chat;","map":{"version":3,"sources":["C:/Users/ny/Desktop/guguwagwag/client/src/components/draw/Chat.js"],"names":["React","io","Chat","Component","constructor","onSendBtnClick","state","socket","emit","message","handle","handleChange","e","target","setState","id","value","componentDidMount","url","connect","on","data","output","document","getElementById","innerHTML","alert","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAmC;AAG/BC,EAAAA,WAAW,GAAE;AACT;;AADS,SAiCbC,cAjCa,GAiCI,MAAM;AACnB,UAAG,KAAKC,KAAL,CAAWC,MAAX,IAAqB,IAAxB,EAA6B;AACzB,aAAKD,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,CAAuB,MAAvB,EAA+B;AAC3BC,UAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWG,OADO;AAE3BC,UAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI;AAFQ,SAA/B;AAIH;AACJ,KAxCY;;AAAA,SA0CbC,YA1Ca,GA0CGC,CAAD,IAAO;AAClB,YAAM;AAAEC,QAAAA;AAAF,UAAaD,CAAnB;AAEA,WAAKE,QAAL,CAAcR,KAAK,KAAK,EACtB,GAAGA,KADmB;AAEtB,SAACO,MAAM,CAACE,EAAR,GAAaF,MAAM,CAACG;AAFE,OAAL,CAAnB;AAIH,KAjDY;;AAET,SAAKV,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,IADC;AAETG,MAAAA,MAAM,EAAE,EAFC;AAGTD,MAAAA,OAAO,EAAE;AAHA,KAAb;AAMH;;AAEDQ,EAAAA,iBAAiB,GAAE;AACf;AACA,QAAIC,GAAG,GAAG,kCAAV,CAFe,CAGf;AAEA;;AACA,SAAKJ,QAAL,CAAc;AAAEP,MAAAA,MAAM,EAAEN,EAAE,CAACkB,OAAH,CAAWD,GAAX;AAAV,KAAd,EAA0C,YAAU;AAChD,UAAG,KAAKZ,KAAL,CAAWC,MAAX,IAAqB,IAAxB,EAA6B;AACzB,aAAKD,KAAL,CAAWC,MAAX,CAAkBa,EAAlB,CAAqB,MAArB,EAA6B,UAASC,IAAT,EAAc;AACvC,cAAIC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb,CADuC,CAEvC;;AACAF,UAAAA,MAAM,CAACG,SAAP,IAAoB,gBAAgBJ,IAAI,CAACX,MAArB,GAA8B,aAA9B,GAA8CW,IAAI,CAACZ,OAAnD,GAA6D,MAAjF;AACH,SAJD;AAKH,OAND,MAMK;AACDiB,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACH;AACJ,KAVD,EANe,CAkBf;AAGH;;AAqBDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII;AAAO,MAAA,EAAE,EAAC,QAAV;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,WAAW,EAAC,QAA3C;AAAoD,MAAA,QAAQ,EAAE,KAAKhB,YAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI;AAAO,MAAA,EAAE,EAAC,SAAV;AAAoB,MAAA,IAAI,EAAC,MAAzB;AAAgC,MAAA,WAAW,EAAC,SAA5C;AAAsD,MAAA,QAAQ,EAAE,KAAKA,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI;AAAQ,MAAA,EAAE,EAAC,MAAX;AAAkB,MAAA,OAAO,EAAE,KAAKN,cAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,CADJ;AAUH;;AAlE8B;;AAuEnC,eAAeH,IAAf","sourcesContent":["import React from 'react';\r\nimport '../../css/styles.css'\r\nimport io from 'socket.io-client'\r\n\r\nclass Chat extends React.Component {\r\n\r\n    \r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            socket: null,\r\n            handle: \"\",\r\n            message: \"\"\r\n        }\r\n\r\n    }\r\n    \r\n    componentDidMount(){\r\n        // Make connection\r\n        var url = \"https://guguwagwag.herokuapp.com\";\r\n        // var url = \"192.168.1.12:4000\";\r\n\r\n        // Listen for events\r\n        this.setState({ socket: io.connect(url)}, function(){\r\n            if(this.state.socket != null){\r\n                this.state.socket.on('chat', function(data){\r\n                    var output = document.getElementById(\"output\");\r\n                    // console.log(output);\r\n                    output.innerHTML += \"<p><strong>\" + data.handle + \": </strong>\" + data.message + \"</p>\";\r\n                })\r\n            }else{\r\n                alert(\"Failed to connect server.\")\r\n            }\r\n        });\r\n\r\n        // console.log(this.state);\r\n        \r\n        \r\n    }\r\n\r\n    onSendBtnClick = () => {\r\n        if(this.state.socket != null){\r\n            this.state.socket.emit('chat', {\r\n                message: this.state.message,\r\n                handle: this.state.handle\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { target } = e;\r\n    \r\n        this.setState(state => ({\r\n          ...state,\r\n          [target.id]: target.value,\r\n        }));\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"mario-chat\">\r\n                <div id=\"chat-window\">\r\n                    <div id=\"output\"></div>\r\n                </div>\r\n                <input id=\"handle\" type=\"text\" placeholder=\"Handle\" onChange={this.handleChange}></input>\r\n                <input id=\"message\" type=\"text\" placeholder=\"Message\" onChange={this.handleChange}></input>\r\n                <button id=\"send\" onClick={this.onSendBtnClick}>Send</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Chat"]},"metadata":{},"sourceType":"module"}